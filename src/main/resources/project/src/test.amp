// link "test.amp"

func printhex (i64: number) {
    i8[]: hex_data = stack_alloc<i8, 16>("0123456789abcdef");
    i8[]: hex_strs = stack_alloc<i8, 17>("................\n");

    for (i32: i = 0; i < 16; i = i + 1) {
        hex_strs[i] = hex_data[number & 15];
        number = number >> 4;
    }

    compiler<asm>(
        "mov rsi, {}" : hex_strs
        "mov rdi, 1"
        "mov rax, 1"
        "mov rdx, 17"
        "syscall"
    );
}

func test() : i32 {
    ret 32;
}

func main () : i32 {
    printhex(0x7e00aaaa);

    /*
    i32: a = test();
    if (a > 0 && (a < 5 && a != test())) {
        ret 2;
    }
    */

    ret 0;
}